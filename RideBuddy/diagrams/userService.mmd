classDiagram
    class User {
        +Guid Id
        +string Email
        +string PasswordHash
        +string FirstName
        +string LastName
        +string PhoneNumber
        +DateTime CreatedAt
        +UserRole Role
        +bool IsEmailVerified
        +Register()
        +UpdateProfile()
        +VerifyEmail()
    }
    
    class UserRole {
        <<enumeration>>
        Driver
        Passenger
        Both
    }
    
    class IUserRepository {
        <<interface>>
        +Task~User~ GetByIdAsync(Guid id)
        +Task~User~ GetByEmailAsync(string email)
        +Task~User~ CreateAsync(User user)
        +Task UpdateAsync(User user)
    }
    
    class UserService {
        -IUserRepository repository
        -IPasswordHasher hasher
        -IJwtTokenGenerator tokenGenerator
        +Task~AuthResponse~ RegisterAsync(RegisterRequest)
        +Task~AuthResponse~ LoginAsync(LoginRequest)
        +Task~UserDto~ GetProfileAsync(Guid userId)
    }
    
    User --> UserRole
    UserService --> IUserRepository
    UserService --> User
